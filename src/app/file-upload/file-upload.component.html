
<Form [formGroup]="myForm" novalidate (ngSubmit)="upload(myForm)">
  <h3>Select a file to upload</h3>
  <div class="row">
     <div class="col-sm-8">  
        <div class="form-group">

          <input type="file" class="form-control" (change)="fileChangeEvent($event)"
                formControlName="file" placeholder="Upload a file...">
        </div>
     </div>   
  
      <div class="col-sm-4">
          <button class="btn btn-md btn-primary btn-block" name="submit" id="submitFile" >Upload</button>
      </div>
  </div>    
  <div formArrayName="metaDataArray">
    <div *ngFor="let md of myForm.controls.metaDataArray.controls; let i=index" class="panel panel-default">
      <div class="panel-body" [formGroupName]="i">
        <app-metadata [group]="myForm.controls.metaDataArray.controls[i]"></app-metadata>
      </div>
    </div>
    <!--
    <pre>form value: <br>{{myForm.value | json}}</pre>
    -->
  </div>
</Form>


